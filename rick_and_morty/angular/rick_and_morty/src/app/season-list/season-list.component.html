<div class="container-fluid p-0" style="min-height: 100vh;">

  <div class="row p-0" id="seasonButtonRow">
    <div class="col-lg-12 mt-4 mb-4 p-0">
      <button class="btn btn-outline-dark mx-2" *ngFor="let season of seasons; let i = index" (click)="loadEpisode(season, i+1)">{{i+1}}. season</button>
    </div>
  </div>

  <div class="row px-4" *ngIf="showDetails">
    <div class="col-lg-6 d-flex justify-content-center align-items-center my-4">
      <img [src]="posterPath" alt="{{selectedSeason}}._season's_poster" class="img-fluid" id="posterImg">
    </div>

    <div class="col-lg-6 my-4" id="detailsDiv">
      <h1 class="text-center my-3">{{selectedSeason}}. season</h1>

      <h3>Episode List:</h3>
      <div class="mb-4" style="border: 1px solid #a9f3fd;"></div>

      <div class="container-fluid" *ngFor="let episode of episodeList; let i = index">
        <div class="row">
          <div class="col-lg-12">
            <div class="d-flex justify-content-between align-items-center">
              <h4>{{episode.title}}</h4>
              <button class="btn btn-outline-dark" (click)="showList[i] = true;showCharacters(episode.characterList)">Character List</button>
            </div>
            <p><span class="fw-bold">Aired: </span>{{episode.air_date}}</p>
          </div>
        </div>

        <div class="row" *ngIf="showList[i]">
          <div class="col-lg-12">
            <div class="d-flex justify-content-end align-items-center">
              <button class="btn btn-outline-dark" (click)="showList[i] = false">X</button>
            </div>
            <div *ngFor="let character of characterList">
              <p (click)="character.showSideBar = true" >{{character.name}}</p>
              <app-side-bar [@showDetails] *ngIf="character.showSideBar" [character]="character"></app-side-bar>
            </div>
          </div>
        </div>
        <hr>
      </div>

    </div>
  </div>

</div>
